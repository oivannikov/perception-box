{"version":3,"sources":["redux/types.js","redux/characterReducer.js","components/Loader/Loader.jsx","api/characters.js","components/Character/Character.jsx","redux/actions.js","components/ListLikedCharacter/ListLikedCharacter.jsx","components/ListCharacter/ListCharacter.jsx","components/Utils/Utils.js","components/Pages/PageCharacters/PageCharacters.jsx","components/Hooks/debouncedSearch.js","components/Pages/PageCurrentCharacter/PageCurrentCharacter.jsx","components/Modal/Modal.jsx","components/SignInFacebook/SignInFacebook.jsx","components/SignIn/SignIn.jsx","App.js","reportWebVitals.js","index.js"],"names":["SET_CHARACTERS","SET_CURRENT_CHARACTER","SET_CHARACTERS_FROM_FIELD","UPDATE_CHARACTERS","SET_HOMEWORLD","initialState","characters","currentCharacter","authUser","charactersFromField","homeworld","updateCharacters","id","updatedIndex","findIndex","character","updatedCharacter","slice","liked","Loader","CircularProgress","className","disableShrink","BASE_URL","a","axios","get","response","data","result","results","param","cancelation","CancelToken","cancelToken","characterId","urlHomeworld","name","urlFilm","title","useStyles","makeStyles","theme","media","height","paddingTop","expand","fontSize","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","red","width","Character","onFavorite","classes","history","useHistory","home","useSelector","state","dispatch","useDispatch","gender","useEffect","getHomeworldCharacter","then","type","payload","setHomeworld","Card","CardHeader","Avatar","aria-label","Typography","variant","component","CardActions","disableSpacing","IconButton","onClick","classNames","clsx","push","ListLikedCharacter","likedCharacters","filter","length","map","ListCharacter","charactersWithId","favorites","localStorage","getItem","JSON","parse","url","split","includes","PageCharacters","useState","isLoading","setLoading","searchTerm","setSearchTerm","debouncedSearchTerm","value","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","getCharacters","setCharacters","cancel","getCharactersFromField","c","setCharactersFromField","Autocomplete","options","getOptionLabel","option","renderOption","style","handleCharacterClick","renderInput","params","TextField","label","onChange","target","updatedFavorites","setItem","stringify","updateFavoritesStorage","setUpdatedCharacters","PageCurrentCharacter","useParams","nameFilms","setNameFilms","Object","keys","mass","hair_color","skin_color","eye_color","birth_year","films","getCurrentCharacter","setCurrentCharacter","filmRequest","film","getFilmsCharacter","Promise","all","join","Modal","children","SignInFacebook","onRigist","onPageCharacters","appId","autoLoad","fields","callback","status","responseFacebook","SignIn","signInLogin","setSignInLogin","signInPassword","setSignInPassword","placeholder","required","App","isRegist","setIsRegist","isPage","setPageCharacters","path","exact","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","action","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d5fa23e2.chunk.js","sourcesContent":["export const SET_CHARACTERS = 'SET_CHARACTERS';\nexport const SET_CURRENT_CHARACTER = 'SET_CURRENT_CHARACTER';\nexport const SET_CHARACTERS_FROM_FIELD = 'SET_CHARACTERS_FROM_FIELD';\nexport const UPDATE_CHARACTERS = 'UPDATE_CHARACTERS';\nexport const SET_HOMEWORLD = 'SET_HOMEWORLD';","import { SET_CHARACTERS, SET_CHARACTERS_FROM_FIELD, SET_CURRENT_CHARACTER, SET_HOMEWORLD, UPDATE_CHARACTERS } from \"./types\";\n\nconst initialState = {\n  characters: [],\n  currentCharacter: {},\n  authUser: false,\n  charactersFromField: [],\n  homeworld: {},\n}\n\nfunction updateCharacters(characters, id) {\n  const updatedIndex = characters.findIndex(character => character.id === id);\n  \n  const updatedCharacter = characters[updatedIndex];\n\n  return [...characters.slice(0, updatedIndex), {...updatedCharacter, liked: !updatedCharacter.liked}, ...characters.slice(updatedIndex + 1)];\n}\n\nexport const characterReducer = (state= initialState, action) => {\n  switch(action.type) {\n    case SET_CHARACTERS:\n      return {\n        ...state,\n        characters: action.payload,\n      }\n\n    case SET_CHARACTERS_FROM_FIELD:\n      return {\n        ...state,\n        charactersFromField: action.payload,\n    }\n\n    case SET_CURRENT_CHARACTER:\n      return {\n        ...state,\n        currentCharacter: action.payload,\n      }\n\n    case UPDATE_CHARACTERS:\n      return {\n        ...state,\n        characters: updateCharacters(state.characters, action.id),\n      }\n    \n    case SET_HOMEWORLD:\n      return {\n        ...state,\n        homeworld: {...state.homeworld, ...action.payload},\n      }\n    \n\n    default: return state;\n  }\n}\n\n","import React from 'react';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport './Loader.scss';\n\nexport function Loader() {\n  return <CircularProgress className=\"loader\" disableShrink />;\n}\n","import axios from \"axios\";\n\nconst BASE_URL = \"https://swapi.dev/api\";\n\nexport async function getCharacters() {\n  const response = await axios.get(`${BASE_URL}/people/`);\n  const result = await response.data;\n  const characters = await result.results;\n\n  return characters;\n}\n\nexport async function getCharactersFromField(param, cancelation) {\n  const CancelToken = axios.CancelToken;\n\n  const response = await axios.get(`${BASE_URL}/people/?search=${param}`, {\n    cancelToken: new CancelToken(cancelation),\n  });\n\n  const result = response.data;\n  const characters = result.results;\n\n  return characters;\n}\n\nexport async function getCurrentCharacter(characterId) {\n  const response = await axios.get(`${BASE_URL}/people/${characterId}`);\n  const character = await response.data;\n  \n  return character;\n}\n\nexport async function getHomeworldCharacter(urlHomeworld) {\n  const response = await axios.get(`${urlHomeworld}`);\n  const result = await response.data;\n\n  return result.name;\n}\n\nexport async function getFilmsCharacter(urlFilm) {\n  const response = await axios.get(`${urlFilm}`);\n  const result = await response.data;\n  \n  return result.title;\n}","import React, { useEffect } from 'react';\n\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setHomeworld } from '../../redux/actions';\nimport { getHomeworldCharacter } from '../../api/characters';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { red } from '@material-ui/core/colors';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\n\nimport './Character.scss';\n\nconst useStyles = makeStyles((theme) => ({\n  media: {\n    height: 0,\n    paddingTop: '56.25%', // 16:9\n  },\n\n  expand: {\n    fontSize: 18,\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n\n  avatar: {\n    backgroundColor: red[500],\n    height: 50,\n    width: 50,\n    fontSize: 25,\n  },\n}));\n\nexport default function Character({ character, onFavorite }) {\n  const classes = useStyles();\n  const history = useHistory();\n  const home = useSelector(state => state.homeworld);\n  const dispatch = useDispatch();\n\n  const { name, id, liked, gender, homeworld } = character;\n\n  const handleCharacterClick = () => {\n    history.push(`/characters/${id}`);\n  };\n\n  useEffect(() => {\n    getHomeworldCharacter(homeworld)\n      .then(result => dispatch(setHomeworld({[id]: result})));\n  }, [character, homeworld, id, dispatch])\n\n  return (\n    <Card className=\"card\">\n      <CardHeader\n        className=\"card__header\"\n        avatar={\n          <>\n            <Avatar aria-label=\"recipe\" className={classes.avatar}>\n              { name && name[0] }\n            </Avatar>\n\n            <Typography className=\"card__name\" variant=\"body2\" component=\"span\">\n              <br />{ name }\n              <br /> From: { home[id] }\n              <br /> Gender: { gender }\n            </Typography>\n          </>\n        }\n      />\n\n      <CardActions className=\"card__footer\" disableSpacing>\n        <IconButton aria-label=\"add to favorites\" onClick={() => onFavorite(id)}>\n          <FavoriteIcon className={classNames('card__favorite', { \"card__liked\": liked })} />\n        </IconButton>\n\n        <IconButton className={clsx(classes.expand)} onClick={handleCharacterClick}>More</IconButton>\n      </CardActions>\n    </Card>\n  );\n}\n\nCharacter.propTypes = {\n  onFavorite: PropTypes.func.isRequired,\n  character: PropTypes.object.isRequired,\n}\n","import {\n  SET_CHARACTERS,\n  SET_CHARACTERS_FROM_FIELD,\n  SET_CURRENT_CHARACTER,\n  SET_HOMEWORLD,\n  UPDATE_CHARACTERS\n} from \"./types\";\n\nexport function setCharacters(characters) {\n  return {\n    type: SET_CHARACTERS,\n    payload: characters,\n  }\n}\n\nexport function setCharactersFromField(characters) {\n  return {\n    type: SET_CHARACTERS_FROM_FIELD,\n    payload: characters,\n  }\n}\n\nexport function setCurrentCharacter(character) {\n  return {\n    type: SET_CURRENT_CHARACTER,\n    payload: character,\n  }\n}\n\nexport function setUpdatedCharacters(id) {\n  return {\n    type: UPDATE_CHARACTERS,\n    id,\n  }\n}\n\nexport function setHomeworld(homeworld) {\n  return {\n    type: SET_HOMEWORLD,\n    payload: homeworld,\n  }\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { useSelector } from 'react-redux';\n\nimport Character from '../Character/Character';\nexport function ListLikedCharacter({  onFavorite }) {\n  const characters = useSelector(state => state.characters);\n  const likedCharacters =  characters.filter(({ liked }) => liked);\n\n  return (\n    <>\n      { likedCharacters.length !== 0 && <h1>Liked characters</h1> }\n\n      <div className=\"listCharacter\">\n      {\n       likedCharacters.map(character => (\n          <Character\n            className=\"listCharacter__character\"\n            character={character}\n            onFavorite={onFavorite}\n            key={character.id}\n          />\n        ))\n      }\n      </div>\n    </>\n  );\n}\n\nListLikedCharacter.propTypes = {\n  onFavorite: PropTypes.func.isRequired,\n}\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { useSelector } from 'react-redux';\n\nimport { ListLikedCharacter } from '../ListLikedCharacter/ListLikedCharacter';\nimport Character from '../Character/Character';\n\nimport './ListCharacter.scss';\n\nexport function ListCharacter({ onFavorite }) {\n  const characters = useSelector(state => state.characters);\n\n  return (\n    <>\n      <div className=\"listCharacter\">\n      {\n        characters.map(character => (\n          <Character\n            className=\"listCharacter__character\"\n            character={character}\n            onFavorite={onFavorite}\n            key={character.id}\n          />\n        ))\n      }\n      </div>\n\n      <ListLikedCharacter  onFavorite={onFavorite} />\n    </>\n  );\n}\n\nListCharacter.propTypes = {\n  onFavorite: PropTypes.func.isRequired,\n}","export function charactersWithId(characters) {\n  const favorites = localStorage.getItem('favorites');\n  const likedCharacters = favorites ? JSON.parse(favorites) : [];\n\n  return characters.map(character => {\n    const id = character.url.split('/').slice(-2, -1)[0];\n\n    return ({\n      ...character,\n      liked: likedCharacters.includes(id),\n      id,\n    })\n  });\n}\n\nexport function updateFavoritesStorage(id) {\n  const favorites = localStorage.getItem('favorites');\n  const likedCharacters = favorites ? JSON.parse(favorites) : [];\n  let updatedFavorites;\n \n  if (likedCharacters.includes(id)) {\n    updatedFavorites = likedCharacters.filter(characterId => characterId !== id);\n  } else {\n    updatedFavorites = [...likedCharacters, id];\n  }\n\n  localStorage.setItem('favorites', JSON.stringify(updatedFavorites));\n}\n","import { useState, useEffect } from 'react';\n\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Loader } from '../../Loader/Loader';\nimport { ListCharacter } from '../../ListCharacter/ListCharacter';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nimport { getCharacters, getCharactersFromField } from '../../../api/characters';\nimport { setCharacters, setCharactersFromField, setUpdatedCharacters } from '../../../redux/actions';\nimport { charactersWithId, updateFavoritesStorage } from '../../Utils/Utils';\nimport { useDebounce } from '../../Hooks/debouncedSearch';\n\nimport './PageCharacters.scss';\n\nexport function PageCharacters() {\n  const charactersFromField = useSelector(state => state.charactersFromField);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [isLoading, setLoading] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const debouncedSearchTerm = useDebounce(searchTerm, 500);\n\n  useEffect(() => {\n    setLoading(true);\n\n    getCharacters()\n      .then(result => {\n        const characters = charactersWithId(result);\n\n        dispatch(setCharacters(characters));\n        setLoading(false);\n      });\n  }, [dispatch]);\n\n  useEffect(() => {\n    let cancel;\n\n    const cancelation = (c) => {\n      cancel = c;\n    }\n\n    if (debouncedSearchTerm) {\n      getCharactersFromField(debouncedSearchTerm, cancelation)\n        .then(result => {\n          const characters = charactersWithId(result);\n\n          dispatch(setCharactersFromField(characters));\n        });\n    }\n\n    return () => {\n      cancel && cancel();\n    }\n\n    }, [debouncedSearchTerm, dispatch]);\n\n    const handleCharacterClick = ({ id }) => {\n      history.push(`/characters/${id}`);\n    };\n\n    function handleFavorite(id) {\n      updateFavoritesStorage(id);\n      dispatch(setUpdatedCharacters(id));\n    }\n\n  return (\n    <>\n      <Autocomplete\n        className=\"app__autocomplete\"\n        options={charactersFromField || []}\n        getOptionLabel={(option) => option.name}\n        renderOption={(option) => <div style={{width: \"100%\"}} onClick={() => handleCharacterClick(option)}>{option.name}</div>}\n        renderInput={(params) =>\n          <TextField\n            {...params}\n            className=\"app__field\"\n            label=\"Searching\"\n            variant=\"outlined\"\n            value={searchTerm}\n            onChange={({ target }) => setSearchTerm(target.value)}\n          /> }\n      />\n\n      { isLoading ? <Loader /> : <ListCharacter onFavorite={handleFavorite} /> }\n    </>\n  );\n}\n","// Hook\nimport { useState, useEffect } from 'react';\n\nexport function useDebounce(value, delay) {\n  // State and setters for debounced value\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      // Update debounced value after delay\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      // Cancel the timeout if value changes (also on delay change or unmount)\n      // This is how we prevent debounced value from updating if value is changed ...\n      // .. within the delay period. Timeout gets cleared and restarted.\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay] // Only re-call effect if value or delay changes\n  );\n\n  return debouncedValue;\n}","import React, { useEffect, useState } from 'react';\n\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { setCurrentCharacter } from '../../../redux/actions';\nimport { getCurrentCharacter, getFilmsCharacter } from '../../../api/characters';\n\nimport { Loader } from '../../Loader/Loader';\n\nimport './PageCurrentCharacter.scss';\n\nexport function PageCurrentCharacter() {\n  const { characterId } = useParams();\n  const character = useSelector(state => state.currentCharacter);\n  const homeworld = useSelector(state => state.homeworld);\n  const dispatch = useDispatch();\n\n  const [isLoading, setLoading] = useState(false);\n  const [nameFilms, setNameFilms] = useState([]);\n\n  const id = Object.keys(character).length && character.url.split('/').slice(-2, -1)[0];\n  const { name, height, mass, hair_color, skin_color, eye_color, birth_year,  gender, films } = character;\n\n  useEffect(() => {\n    setLoading(true);\n\n    getCurrentCharacter(characterId)\n      .then(character => {\n        dispatch(setCurrentCharacter(character));\n        setLoading(false);\n      });\n\n  }, [characterId, dispatch]);\n\n  useEffect(() => {\n    let filmRequest = (films || []).map(film => getFilmsCharacter(film));\n    \n    Promise.all(filmRequest)\n      .then(result => setNameFilms(result));\n\n  }, [character, films]);\n\n  return (\n    <>\n      { isLoading\n        ? <Loader />\n        : (\n            <div className=\"characterInfo\">\n              <div className=\"characterInfo__wrapper\">\n                <h2 className=\"characterInfo__name\">{ name }</h2>\n\n                <ul className=\"characterInfo__parametrs\">\n                  <li className=\"characterInfo__parametr\">\n                    Height: {height}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Mass: {mass}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Hair color: {hair_color}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Skin color: {skin_color}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Eye color: {eye_color}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Birth year: {birth_year}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Gender: {gender}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Homeworld: {homeworld[id]}\n                  </li>\n\n                  <li className=\"characterInfo__parametr\">\n                    Films: {nameFilms.join(', ')}\n                  </li>\n                </ul>\n              </div>\n            </div>\n          )\n      }\n    </>\n  );\n}\n","import React from 'react';\n\nimport './Modal.scss';\n\nexport function Modal({ children }) {\n  return (\n    <div className=\"modal active\">\n      <div className=\"modal__content active\">\n        {children}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport FacebookLogin from 'react-facebook-login';\n\nexport function SignInFacebook({ onRigist, onPageCharacters }) {\n  const history = useHistory();\n\n  function responseFacebook(response) {\n    if (response.status !== 'unknown') {\n      history.push('/');\n      onPageCharacters(true);\n    } else {\n      onRigist(true);\n    }\n  }\n\n  return (\n    <>\n      <FacebookLogin\n         appId=\"203258351346646\"\n         autoLoad={false}\n         fields=\"name,email\"\n         onClick={() => onRigist(false)}\n         callback={(response) => responseFacebook(response)}\n      />\n    </>\n  );\n}","import React, { useState } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport { SignInFacebook } from '../SignInFacebook/SignInFacebook';\n\nimport './SignIn.scss';\n\nexport function SignIn({ onRigist, onPageCharacters }) {\n  const [signInLogin, setSignInLogin] = useState('');\n  const [signInPassword, setSignInPassword] = useState('');\n\n  return (\n    <form className=\"form\">\n      <div className=\"form__authorization\">\n        <div className=\"form__login\">\n          <input\n            className=\"form__input\"\n            type=\"email\"\n            placeholder=\"Login\"\n            value={signInLogin}\n            onChange={({ target }) => setSignInLogin(target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"form__password\">\n          <input\n            className=\"form__input\"\n            type=\"password\"\n            placeholder=\"Password\"\n            value={signInPassword}\n            onChange={({ target }) => setSignInPassword(target.value)}\n            required\n          />\n        </div>\n      </div>\n\n      <div className=\"form__buttons\">\n        <div className=\"form__button\">\n          <button className=\"form__sign-in\" type=\"sumbit\">Sign in</button>\n        </div>\n        \n        <SignInFacebook onRigist={onRigist} onPageCharacters={onPageCharacters} />\n      </div>\n    </form>\n  );\n}\n\nSignIn.propTypes = {\n  onRigist: PropTypes.func.isRequired,\n  onPageCharacters: PropTypes.func.isRequired\n}","import { useState } from 'react';\n\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\n\nimport { PageCharacters } from './components/Pages/PageCharacters/PageCharacters';\nimport { PageCurrentCharacter } from './components/Pages/PageCurrentCharacter/PageCurrentCharacter';\nimport { Modal } from './components/Modal/Modal';\nimport { SignIn } from './components/SignIn/SignIn';\n\nimport './App.scss';\n\nfunction App() {\n  const [isRegist, setIsRegist] = useState(true);\n  const [isPage, setPageCharacters] = useState(false);\n  const history = useHistory();\n\n  if (isRegist) {\n    history.push('/');\n  }\n\n  return (\n    <div className=\"app\">\n    { isPage\n        ? (  <Switch>\n              <Route path=\"/\" exact>\n                <Redirect to=\"/characters/\" />\n              </Route>\n\n              <Route path=\"/characters/\" component={PageCharacters} exact />\n              <Route path=\"/characters/:characterId\" component={PageCurrentCharacter} />\n            </Switch>\n          )\n        : isRegist && <Modal> <SignIn onRigist={setIsRegist} onPageCharacters={setPageCharacters} /></Modal>\n    }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { HashRouter } from 'react-router-dom';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport { characterReducer } from './redux/characterReducer';\n\nimport App from './App';\n\nimport './index.scss';\nimport reportWebVitals from './reportWebVitals';\n\nconst store = createStore(characterReducer);\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}